<p-table selectionMode="single" [(selection)]="selectedPerson" [value]="persons"
    styleClass="p-datatable-sm p-datatable-gridlines" responsiveLayout="scroll" (sortFunction)="customSort($event)"
    [customSort]="true">
    <ng-template pTemplate="caption">
        <div class="d-flex">
            <span class="p-input-icon-right">
                <i class="pi pi-search"></i>
                <input type="text" class="p-inputtext-sm table-search" pInputText placeholder="جستجو" />
            </span>
            <button pButton type="button" label="افزودن" icon="pi pi-plus"
                class="p-button-sm p-button-success ms-auto"></button>
            <!-- <button pButton type="button" label="افزودن" icon="pi pi-plus" (click)="addNewPersonDialog()"
                class="p-button-sm p-button-success ms-auto"></button> -->
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="rowIndex">ردیف<p-sortIcon field="rowIndex"></p-sortIcon>
            </th>
            <th pSortableColumn="firstName">نام<p-sortIcon field="firstName"></p-sortIcon>
            </th>
            <th pSortableColumn="lastName">نام خانوادگی<p-sortIcon field="lastName"></p-sortIcon>
            </th>
            <th pSortableColumn="fatherName">نام پدر<p-sortIcon field="fatherName"></p-sortIcon>
            </th>
            <th pSortableColumn="nationalID">کد ملی<p-sortIcon field="nationalID"></p-sortIcon>
            </th>
            <th pSortableColumn="certificateNumber">شماره شناسنامه<p-sortIcon field="certificateNumber"></p-sortIcon>
            </th>
            <th>محل تولد</th>
            <th>تاریخ تولد</th>
            <th>آدرس</th>
            <th>تلفن</th>
            <th>عملیات</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-person let-rowIndex="rowIndex">
        <tr [class.app-remove-highlight]="person.isRemoved" [pSelectableRow]="person">
            <td>{{rowIndex+1}}</td>
            <td>{{person.firstName}}</td>
            <td>{{person.lastName}}</td>
            <td>{{person.fatherName}}</td>
            <td>{{person.nationalID}}</td>
            <td>{{person.certificateNumber}}</td>
            <td>{{person.fromLocation}}</td>
            <td>{{person.stringBirthDate}}</td>
            <td>{{person.address}}</td>
            <td>{{person.phoneNumber}}</td>
            <td>
                <span class="app-operation-item">ویرایش</span>
                <span class="app-operation-item">حذف</span>
                <!-- <span class="app-operation-item" (click)="showEditPersonDialog(person , rowIndex)">ویرایش</span>
                <span class="app-operation-item" (click)="showDeletePersonConf(person , rowIndex)">حذف</span> -->
            </td>
        </tr>
    </ng-template>
</p-table>
<div class="custom-table-summary" *ngIf="tableRowsTotal > tableRows">
    <p-paginator [rows]="tableRows" [totalRecords]="tableRowsTotal" [rowsPerPageOptions]="[2,5,15]"
        (onPageChange)="paginate($event)"></p-paginator>
</div>

<app-dialog-edit-person (update)="updateFromEditPerson($event)"></app-dialog-edit-person>
<app-dialog-create-person (update)="updateFromCreatePerson($event)"></app-dialog-create-person>
<app-confirm-delete-person (update)="updateFromDeletePerson($event)"></app-confirm-delete-person>